<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Memos on ToT Blog</title><link>https://blog.tot.yt/tags/memos/</link><description>Recent content in Memos on ToT Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Tue, 15 Aug 2023 02:02:00 +0000</lastBuildDate><atom:link href="https://blog.tot.yt/tags/memos/index.xml" rel="self" type="application/rss+xml"/><item><title>在fly.io部署Memos并自动备份数据库</title><link>https://blog.tot.yt/story/%E5%9C%A8fly-io%E9%83%A8%E7%BD%B2memos%E5%B9%B6%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93/</link><pubDate>Tue, 15 Aug 2023 02:02:00 +0000</pubDate><guid>https://blog.tot.yt/story/%E5%9C%A8fly-io%E9%83%A8%E7%BD%B2memos%E5%B9%B6%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93/</guid><description>参考项目 https://github.com/hu3rror/memos-on-fly 准备工作 1.注册FLY.IO 用以部署memos 2.注册B2C https://www.backblaze.com/cloud-storage 用以同步备份memos数据库 新建BUCKET,并获取&amp;lt;keyId&amp;gt;和&amp;lt;applicationKey&amp;gt;
安装flyctl Install flyctl 以WINDOWS为例
pwsh -Command &amp;#34;iwr https://fly.io/install.ps1 -useb | iex&amp;#34; 其他系统请参照官方
新建APP 初始化
flyctl launch 按照提示选择会生成一个FLY.TOML文件
编辑FLY.TOML 添加以下内容
[build] image = &amp;#34;ghcr.io/hu3rror/memos-litestream:latest&amp;#34; #如果不需要备份数据库则可以选择官方的docker镜像ghcr.io/usememos/memos:latest #使用官方镜像可以删掉env的部分 [env] # Details see: https://litestream.io/guides/backblaze/ LITESTREAM_REPLICA_BUCKET = &amp;#34;B2C桶名称&amp;#34; # change to your litestream bucket name LITESTREAM_REPLICA_ENDPOINT = &amp;#34;s3.us-east-005.backblazeb2.com&amp;#34; # change to your litestream endpoint url LITESTREAM_REPLICA_PATH = &amp;#34;memos_prod.db&amp;#34; # keep the default or change to whatever path you want [[mounts]] source = &amp;#34;memos_data&amp;#34; destination = &amp;#34;/var/opt/memos&amp;#34; [http_service] internal_port = 5230 force_https = true auto_stop_machines = false auto_start_machines = true min_machines_running = 0 添加1g存储空间 flyctl volumes create memos_data --region hkg --size 1 添加密钥 将B2存储的密钥添加到fly的密钥存储中, 使用官方镜像可以忽略此步骤</description></item><item><title>为Memos增加twikoo评论</title><link>https://blog.tot.yt/story/%E4%B8%BAmemos%E5%A2%9E%E5%8A%A0twikoo%E8%AF%84%E8%AE%BA/</link><pubDate>Sat, 17 Jun 2023 06:42:00 +0000</pubDate><guid>https://blog.tot.yt/story/%E4%B8%BAmemos%E5%A2%9E%E5%8A%A0twikoo%E8%AF%84%E8%AE%BA/</guid><description>食用方法 适用于最新版本的memos 0.13 在Memos设置中加入以下
自定义样式 #twikoo{padding: 1rem;background-color: rgb(63,63,70);margin: 1rem 0;border-radius: .5rem;color: #fff !important;} .twicon{position: absolute;right: 1rem;} .btns-container.space-x-2{margin-right:1.5rem;} .action-button-container{color: #e5e7eb;} .action-button-container a{display:none !important;} 自定义脚本 //添加 twikoo 评论 v2023.06.10 适用于最新版本的memos var twikooENV = &amp;#39;https://twikoo.loliko.cn/&amp;#39; function addTwikooJS() { var memosTwikoo = document.createElement(&amp;#34;script&amp;#34;); memosTwikoo.src = `https://cdn.staticfile.org/twikoo/1.6.16/twikoo.all.min.js`; var tws = document.getElementsByTagName(&amp;#34;script&amp;#34;)[0]; tws.parentNode.insertBefore(memosTwikoo, tws); }; function addComIcon(){ var memoTwIcons = document.querySelectorAll(&amp;#39;.time-text&amp;#39;) || &amp;#39;&amp;#39;; if(memoTwIcons){ for(var i=0;i &amp;lt; memoTwIcons.length;i++){ //if(memoTwIcon[i].hasChildNodes == false){ memoTwIcons[i].insertAdjacentHTML(&amp;#39;afterbegin&amp;#39;, &amp;#39;&amp;lt;div class=&amp;#34;twicon&amp;#34;&amp;gt;&amp;lt;svg class=&amp;#34;icon&amp;#34; viewBox=&amp;#34;0 0 1024 1024&amp;#34; xmlns=&amp;#34;http://www.</description></item><item><title>教程：博客独立页面调用 Memos 的方法</title><link>https://blog.tot.yt/story/memos-api-call-rendering-page/</link><pubDate>Tue, 09 May 2023 06:08:00 +0000</pubDate><guid>https://blog.tot.yt/story/memos-api-call-rendering-page/</guid><description>// 2023.8.22更新
集成 集成到自己的网站，在合适的位置需要放置一个 CSS 选择器作为展示 Memos 的容器。
&amp;lt;div id=&amp;#34;memos&amp;#34; class=&amp;#34;memos&amp;#34;&amp;gt;&amp;lt;/div&amp;gt; &amp;lt;!-- Your Memos API --&amp;gt; &amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt; var memos = { host: &amp;#39;https://memos.ee/&amp;#39;, // Your Memos, with &amp;#39;/&amp;#39; end. limit: &amp;#39;20&amp;#39;, // Pagination to show. creatorId: &amp;#39;1&amp;#39;, // The old instance is 101, and the new instance is 1. domId: &amp;#39;#memos&amp;#39;, // Default #memos. username: &amp;#39;jkjoy&amp;#39;, // You can customize the display ID that is not related to memos. name: &amp;#39;浪子&amp;#39;, // You can customize the displayed full name, that is not related to memos.</description></item></channel></rss>